{% extends "base.html" %}

{% block title %} Profile / Fuel {% endblock %}

{% block content %}
    <!-- Client Profile Management -->
    <div class="container pt-3 pb-5">
        <h1 class="mb-3">Client Profile Management</h1>
        <h2 class="mb-3">Profile</h2>
        <div class="form-group row py-2">
          <div class="col-2">
            <label for="full-name">Full Name:</label>
          </div> 
          <div class="col-2">
            <label for="full-name">{{ current_profile.name | default_if_none:"TBD" }}</label>
          </div>
        </div>
	      <div class="form-group row py-2">
          <div class="col-2">
            <label for="address-1">Address 1:</label>
          </div> 
          <div class="col-2">
            <label for="address-1">{{ current_profile.address | default_if_none:"TBD"}}</label>
          </div>
        </div>
	      <div class="form-group row py-2">
          <div class="col-2">
            <label for="city">City:</label>
          </div> 
          <div class="col-2">
            <label for="city">{{ current_profile.city | default_if_none:"TBD" }} </label>
          </div>
        </div>
        <div class="form-group row py-2">
          <div class="col-2">
            <label for="state">State:</label>
          </div> 
          <div class="col-2">
            <label for="state">{{ current_profile.state | default_if_none:"TBD" }}</label>
          </div> 
        </div>
        <div class="form-group row py-2">
          <div class="col-2">
            <label for="zipcode">Zipcode:</label>
          </div> 
          <div class="col-2">
            <label for="zipcode">{{ current_profile.zipcode | default_if_none:"TBD"}} </label>
          </div>
      </div>
      <h2 class="mb-3">Edit Profile</h2>
      <form action="profile" method="post" class="mt-3" id="profile-form">
        {% csrf_token %}
        <div class="form-group row py-2">
          <div class="col-3">
            {{ form.name.label_tag }}
            {{ form.name }}
            <div class="invalid-feedback">Please enter valid full name.</div>
          </div>
        </div>
        <div class="form-group row py-2">
          <div class="col-3">
            {{ form.address_1.label_tag }}
            {{ form.address_1 }}
            <div class="invalid-feedback">Please enter valid address.</div>
          </div>
        </div>
        <!--<div class="form-group row py-2">
          <div class="col-3">
            {{ form.address_2.label_tag }}
            {{ form.address_2 }}
          </div>
        </div>-->
        <div class="form-group row py-2">
          <div class="col-3">
            {{ form.city.label_tag }}
            {{ form.city }}
            <div class="invalid-feedback">Please enter valid city name.</div>
          </div>
        </div>
        <div class="form-group row py-2">
          <div class="col-3">
            {{ form.state.label_tag }}
            {{ form.state }}
            <div class="comment">2 character state code required</div>
            <div class="invalid-feedback">Please enter valid state code.</div>
          </div> 
        </div>
        <div class="form-group row py-2">
          <div class="col-3">
            {{ form.zipcode.label_tag }}
            {{ form.zipcode }}
            <div class="comment">Please type in at least 5 characters</div>
            <div class="invalid-feedback">Please enter valid zipcode.</div>
          </div>
        </div>
        <div class="comment">'*' - Required</div>
          <button type="submit" class="btn btn-primary">Save Changes</button>
          <button type="cancel" class="btn btn-outline-secondary">Cancel</button>
        </div>
        {{ form.name.errors }}
        {{ form.address_1.errors }}
        <!--{{ form.address_2.errors }}-->
        {{ form.city.errors }}
        {{ form.state.errors }}
        {{ form.zipcode.errors }}
      </form>

    <!-- Form Validation -->
    <script>
      var form = document.querySelector('.needs-validation');
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      })
      form.addEventListener('cancel', function(event) {
        form.classList.remove('was-validated');
      })
    </script>

{% endblock %}